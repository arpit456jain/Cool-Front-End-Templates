(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2719],{1025:function(e,t,n){"use strict";n.d(t,{J:function(){return p}});var r=n(67294),o=n(54854),i=n(47554),u=n(36623),c=n(95130),a=n(84248),s=n(276),l=n(49865),f=r.createElement,p=(0,l.r)("allTerms",i.AllClarityTerms)((function(e){var t=e.offer,n=(0,s.useSelector)(u.fq),r=(0,c.fM)(n),l=(null===t||void 0===t?void 0:t.offerType)===a.R.TRIAL?t:r;if(null===l||void 0===l||!l.offerType)return null;var p={offerType:null===l||void 0===l?void 0:l.offerType,customerSegment:null===l||void 0===l?void 0:l.customerSegment,marketSegments:null===l||void 0===l?void 0:l.marketSegments,promotion:null===l||void 0===l?void 0:l.promotion,processingInstructions:null===l||void 0===l?void 0:l.processingInstructions};return f("div",{className:o.Z.clarityTermsContainer},f(i.ClarityTerms,p))}))},6119:function(e,t,n){"use strict";n.d(t,{l:function(){return _}});var r=n(67294),o=n(88305),i=n(52007),u=n(46829),c=n(56746),a=n(4190),s=n(99246),l=n(65455),f=n(40705),p=n(45110),d=n(12510),v=n(39714),m=n(25235),O=n(276),g=n(3971),y=r.createElement,_=function(e){return y(d.ReduxStoreProvider,{store:e.store},y(u.ApolloProvider,{client:e.apolloClient},y(i.AnalyticsProvider,{value:e.adobeLaunchAnalytics},y(a.FeatureFlagProvider,{value:e.features},y(c.AppErrorBoundary,{logMeta:{componentName:e.errorBoundaryComponentName,errorLoadingComponent:"LearnMoreDialog"}},y(h,e))))))},h=function(e){var t,n=e.onClose,i=e.offerContent,u=e.productArrangementCode,c=void 0===u?void 0:u,d=e.productLogoUrls,_=void 0===d?void 0:d,h=e.resourceName,b=void 0===h?"checkout/".concat(v._.LEARN_MORE_DIALOG):h,E=e.commerceAppContext,A=void 0===E?void 0:E,C=e.defaultCategory,T=void 0===C?void 0:C,P=(0,r.useMemo)((function(){return(0,g.withAEMContent)(b,p.iJ.__contentType,p.iJ)(p.qn)}),[b]),w=(0,a.useFeatureFlags)(s.R.UC_040521),L=(0,a.useFeatureFlags)(s.R.P_UC_AEM_AUTHOR),S=(0,O.useSelector)(l.n$),k=(0,O.useSelector)(l.mT),R=(0,O.useStore)(),I=(0,m.T)(),j=(0,a.useFeatureFlags)([s.R.UC_FORCE_ALL_APPS_OPTIMIZATION]),M=(0,f.jO)(R.getState(),null===I||void 0===I?void 0:I.offer,j),U=(null===(t=R.getPersonalizedContentVariationByAEMQueryName)||void 0===t?void 0:t.call(R,v._.LEARN_MORE_DIALOG))||"",D=(0,r.useMemo)((function(){return w?{locale:"".concat(S,"-").concat(k),variables:{locale:"zh-hant"===S?"zh_TW":S,productArrangementCode:c},options:{fetch:(0,o.Z)(L[s.R.P_UC_AEM_AUTHOR]?[s.R.P_UC_AEM_AUTHOR]:[s.R.UC_AEM_PUBLISH],U)}}:{locale:S,variables:{locale:S,productArrangementCode:c},options:{fetch:(0,o.Z)(L[s.R.P_UC_AEM_AUTHOR]?[s.R.P_UC_AEM_AUTHOR]:[s.R.UC_AEM_PUBLISH],U)}}}),[k,w,L,S,c,U]);return y("div",{"data-testid":"learn-more-dialog"},y(P,{aem:D,offerContent:i,onClose:n,productLogoUrls:_,commerceAppContext:A,defaultCategory:T,showFulfillableItemsView:M}))}},25235:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(27261),o=n(71439),i=n(49786);function u(){var e=(0,r.Z)(["\n  fragment AllAppsOptimizationOfferFragment on PersonalizedOffer {\n    offer {\n      id\n      productArrangementCode\n    }\n  }\n"]);return u=function(){return e},e}var c=(0,o.gql)(u()),a=function(){return(0,i.h)(c)}},52148:function(e,t,n){"use strict";n.d(t,{Cd:function(){return p},_p:function(){return v}});var r=n(26265),o=n(99246),i=n(28919),u=n(85686),c=n(29843),a=n(67294),s=n(4190);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){var e=(0,u.useLogger)(),t=(0,s.useFeatureFlags)(o.R.UC_CONTENT_LOGGING)[o.R.UC_CONTENT_LOGGING];return{validateOfferContent:(0,a.useCallback)((function(n,r,o){return function(e,t,n,r,o){if(!o)return;var i=[];t.forEach((function(e){(e.validate||d)(n[e.name])||i.push(e.name)})),i.length&&O({component:e,missingContent:i},r)}(n,r,o,e,t)}),[e,t]),validateContentEntry:(0,a.useCallback)((function(n){return function(e,t,n){if(!n)return;var r=e.model,o=null===r||void 0===r?void 0:r.__contentType,i=g(o),u=e.getRaw(),c=null===r||void 0===r?void 0:r.fields,a=m(i,u,c);a.length&&O({contentModel:o,missingContent:a},t)}(n,e,t)}),[e,t])}}function d(e){return!!e}function v(e){return!(null===e||void 0===e||!e.json)}function m(e,t,n){var o=[];return e.forEach((function(e){var i,u=null===(i=n[e])||void 0===i?void 0:i.type,c=t[e];if("string"===u)d(c)||o.push(e);else if(u&&u.__contentType){var a,s,l=u.__contentType,f=g(l);if(n[e].isArray)a=[],c.forEach((function(t,o){var i,u=m(f,t,null===(i=n[e])||void 0===i?void 0:i.type);u.length&&a.push((0,r.Z)({},"".concat(e,"[").concat(o,"]"),u))}));else a=m(f,c,null===(s=n[e])||void 0===s?void 0:s.type.fields);a.length&&o.push((0,r.Z)({},"".concat(e,":").concat(l),a))}})),o}function O(e,t){var n=(0,c.H)((0,i.vW)());t.warn(f(f({},e),{},{url:n}),"UCv3: Missing or Invalid Content Warning")}function g(e){var t;return(null===(t=y[e])||void 0===t?void 0:t.required)||[]}var y={BestValue:{required:["label"]},Bundle:{required:["startingPriceLabel","bestValue","priceContent"]},CommitmentTerms:{required:["termCollection","commitmentContent"]},Commitment:{required:["bestValue","priceContent"]},CommitmentTerm:{required:["name","commitment","term","termUnit","offerType","cps","cpf"]},Price:{required:["recurrenceLabel","recurrenceAriaLabel","perUnitLabel","perUnitAriaLabel","freeLabel","freeAriaLabel","taxExclusiveLabel","taxInclusiveLabel","alternativePriceAriaLabel","strikethroughAriaLabel"]}}},47758:function(e,t,n){"use strict";n.d(t,{h:function(){return u},N:function(){return c}});var r,o=n(19291),i=n(67294);function u(e){var t=e||r||[];return(0,o.Lf)()&&!r&&(r=t),t}function c(e){return(0,i.useMemo)((function(){return u(e)}),[e])}},54147:function(e,t,n){"use strict";n.d(t,{yr:function(){return u},S1:function(){return a},p3:function(){return l},VB:function(){return f},_8:function(){return p}});var r=n(59772),o=n(70558),i=n(67294),u=(r.Z.appMobileMedia,r.Z.appMobileLargeMedia),c=r.Z.appDesktopMedia,a=r.Z.appDesktopLargeMedia,s=function(e,t){var n=(0,i.useState)(t),r=n[0],o=n[1];return(0,i.useEffect)((function(){var t=window.matchMedia(e);o(t.matches);var n=function(){o(t.matches)};return t.addEventListener?t.addEventListener("change",n):t.addListener(n),function(){t.removeEventListener?t.removeEventListener("change",n):t.removeListener(n)}}),[e]),r},l=function(){var e=(0,o.useDevice)().type;return e===o.DeviceType.mobile||e===o.DeviceType.tablet},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=l();return s(e,t)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=(0,o.useDevice)().type===o.DeviceType.desktop;return s(e,t)}},96909:function(e,t,n){"use strict";n.d(t,{W:function(){return p}});var r=n(20236),o=n(99246),i=n(52176),u=n(11051),c=n(69355),a=n(4190),s=n(67294),l=n(56746),f=n(12510),p=function(){var e=(0,a.useFeatureFlags)([o.R.UC_APPLE_PAY,o.R.UC_FORCE_APPLE_PAY,o.R.UC_GOOGLE_PAY,o.R.UC_FORCE_GOOGLE_PAY]),t=(0,c.useCookies)(),n=(0,f.useStore)(),p=(0,u.useCommerceAppContext)().isInApp,d=(0,s.useRef)(!1),v=(0,l.useOnAppError)((function(e){var t;if(d.current)return!0;if((null===e||void 0===e||null===(t=e.extensions)||void 0===t?void 0:t.orderCode)===i.k.PAYMENT_SYSTEM_UNAVAILABLE){var r,o=n.getState();if(null!==o&&void 0!==o&&null!==(r=o.digitalWallet)&&void 0!==r&&r.submitted)return d.current=!0,!0}return!1}));return(0,s.useMemo)((function(){return{showApplePay:!v&&e[o.R.UC_APPLE_PAY]&&(t.get(r.e.SHOW_APPLE_PAY_COOKIE)||e[o.R.UC_FORCE_APPLE_PAY]),showGooglePay:!p()&&!v&&e[o.R.UC_GOOGLE_PAY]&&(t.get(r.e.SHOW_GOOGLE_PAY_COOKIE)||e[o.R.UC_FORCE_GOOGLE_PAY])}}),[t,e,p,v])}},39714:function(e,t,n){"use strict";var r;n.d(t,{_:function(){return r}}),function(e){e.LEARN_MORE_DIALOG="learn-more-dialog",e.TEAM_UPGRADE_ADDON="team-upgrade-addon",e.TEAM_UPGRADE_PLANS="team-upgrade-plans"}(r||(r={}))},46576:function(e,t,n){"use strict";n.d(t,{mw:function(){return g},Vk:function(){return b}});var r=n(809),o=n.n(r),i=n(92447),u=n(27261),c=n(71439),a=n(46829),s=n(36623),l=n(61792),f=n(65455),p=n(62452),d=n(276),v=n(67294),m=n(12510);function O(){var e=(0,u.Z)(["\n  query GET_COUNTRY_CHANGE_ALLOWED {\n    user {\n      id\n      countryChangeAllowed\n    }\n  }\n"]);return O=function(){return e},e}var g="GET_COUNTRY_CHANGE_ALLOWED",y=(0,c.gql)(O());function _(e,t){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,e.prev=1,!n){e.next=7;break}return e.next=5,t.query({query:y,context:{headers:{Authorization:"Bearer ".concat(n)}},fetchPolicy:"no-cache"});case 5:i=e.sent,r=i.data.user.countryChangeAllowed;case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var b=function(){var e=(0,d.useDispatch)(),t=(0,p.KW)(),n=(0,m.useStore)().getState(),r=(0,l.PQ)(n),u=(0,f.mT)(n),c=(0,l.et)(n).countryCode,O=(0,l.hP)(n),g=(0,s.qr)(n),y=(0,a.useApolloClient)();(0,v.useEffect)((function(){function n(){return(n=(0,i.Z)(o().mark((function n(){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!0,i=c&&c!==u,n.t0=!g,!n.t0){n.next=7;break}return n.next=6,_(y,O);case 6:n.t0=n.sent;case 7:r=n.t0,i&&!r&&t(c),e((0,l.oY)(r));case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}r&&function(){n.apply(this,arguments)}()}),[])}},15257:function(e,t,n){"use strict";n.d(t,{SQ:function(){return a},xy:function(){return s},cY:function(){return l},Z2:function(){return f}});var r=n(27361),o=n.n(r),i=n(298),u=n(90325),c=n(52253),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,u.LR)(t,e),a=(0,i.Yd)(r,n),s=o()(a,"unifiedCheckout.flowTypeAttributes.selectedPod")||o()(a,"unifiedCheckout.flowTypeAttributes.defaultPod"),l="SelectedPod:".concat(s),f=l?(0,i.W6)("".concat(l,":").concat(c.ps.SELECT),null):void 0;return{offer:null===r||void 0===r?void 0:r.offer,flowTypeAttributes:a,selectedPodEvent:f}},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.find((function(e){return(null===e||void 0===e?void 0:e.id)===t}));if(!r)return{};var u,a,s=(0,i.lG)(r,n);return(u=s.unifiedCheckout.flowTypeAttributes.selectedBillingFrequency?"Selected:".concat(o()(s,"unifiedCheckout.flowTypeAttributes.selectedBillingFrequency"),":").concat(o()(s,"unifiedCheckout.flowTypeAttributes.selectedSubscriptionPlan")):"Selected:".concat(o()(s,"unifiedCheckout.flowTypeAttributes.defaultBillingFrequency"),":").concat(o()(s,"unifiedCheckout.flowTypeAttributes.defaultSubscriptionPlan")))&&(a=(0,i.W6)("".concat(u,":").concat(c.ps.SELECT),null)),{offer:r,flowTypeAttributes:s,selectedPodEvent:a}},l=function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(null===e||void 0===e||null===(n=e.result)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.offers)||[],l=(0,u.LR)(t,s);if(null===l||void 0===l||!l.offer)return{};var f,p=null===l||void 0===l?void 0:l.offer,d=(0,i.lG)(p,a),v=o()(d,"unifiedCheckout.flowTypeAttributes.selectedBillingFrequency")||o()(d,"unifiedCheckout.flowTypeAttributes.defaultBillingFrequency"),m=o()(d,"unifiedCheckout.flowTypeAttributes.selectedSubscriptionPlan")||o()(d,"unifiedCheckout.flowTypeAttributes.defaultSubscriptionPlan"),O="Selected:".concat(v,":").concat(m);return O&&(f=(0,i.W6)("".concat(O,":").concat(c.ps.SELECT),null)),{offer:p,flowTypeAttributes:d,selectedPodEvent:f}},f=function(e,t){var n,r=null===(n=(0,u.LR)(t,e))||void 0===n?void 0:n.offer;return r?{offer:r,flowTypeAttributes:(0,i.lG)(r,!0)}:{}}},95130:function(e,t,n){"use strict";n.d(t,{gF:function(){return i},fM:function(){return u}});var r=n(81834),o=n(36623),i=function(e){return Array.isArray(null===e||void 0===e?void 0:e.cartItems)?null===e||void 0===e?void 0:e.cartItems[0]:null},u=function(e){var t=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e.offerVariants.sourceOffer.offerType===r.OfferType.TRIAL}))}(e);return(null===t||void 0===t?void 0:t[0])&&(0,o.rL)(null===t||void 0===t?void 0:t[0])}},47130:function(e,t,n){"use strict";n.d(t,{Z:function(){return d},G:function(){return v}});var r=n(64679),o=n.n(r),i=n(8777),u=n.n(i),c=n(87835),a=n(19291),s=n(49675),l=n(34155),f={keepAlive:!0,timeout:s.L.SOCKET_TIMEOUT};l.env.APP_ENV===c.T.LOCAL&&(f.rejectUnauthorized=!1);var p=(0,a.Lf)()?void 0:new(u().Agent)(f);function d(){return p}function v(){return new(o().Agent)(f)}},94945:function(e,t,n){"use strict";n.d(t,{p:function(){return v},M:function(){return m}});var r=n(26265),o=n(41609),i=n.n(o),u=n(37244),c=n.n(u),a=n(96029),s=n(19291),l=n(2385),f=n(62482);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){var r,o;if(t){for(var i=n||{},u=i.promotionTerm,c=void 0===u?"":u,a=i.promotionTermValue,s=void 0===a?"":a,f=c.toLowerCase(),p=s.toString(),d=t.toLowerCase(),v=0;v<(null===e||void 0===e?void 0:e.length);v++){var m=e[v],O=m.offerType,g=m.trialTerm,y=m.trialTermUnit;if(d===String(O).toLowerCase())if(t===l.m_.Trial){if(String(y).toLowerCase()===f){if(g===p){r=m;break}g||(o=m)}}else o=m}return r||o}}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!i()(t)){var u=(0,a.vl)(e.store.getState()),l=u[c().app.ITEMS.name].map((function(e,n){return d(d({},e),{},{id:t[n]})})),p=u[c().app.ITEMS.name].length;if((0,s.Lf)()){var v=d(d({},u),{},(0,r.Z)({},c().app.ITEMS.name,l));o&&(v=d(d({},v),{},(0,r.Z)({},c().app.ORIGINAL_OFFER_ID.name,t[p]))),n&&(v=d(d({},v),{},(0,r.Z)({},c().app.RECOMMENDATION_REQUEST_ITEMS.name,l))),e.store.dispatch((0,a.BT)(v))}else{e.req.query[c().app.ITEMS.name]=l,n&&(e.req.query[c().app.RECOMMENDATION_REQUEST_ITEMS.name]=l),o&&(e.req.query[c().app.ORIGINAL_OFFER_ID.name]=t[p]),e.store.dispatch((0,a.BT)(e.req.query));var m=(0,f.tW)(e.req.query),O="".concat(e.req.url.split("?")[0]);e.req.url="".concat(O,"?").concat(m)}}}},58886:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(809),o=n.n(r),i=n(92447),u=n(61792),c=n(75295),a=n(19291);function s(e,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.PQ)(t)){e.next=5;break}r=(0,u.hP)(t),e.next=9;break;case 5:if((0,a.Lf)()){e.next=9;break}return e.next=8,(0,c.Y)({},n);case 8:r=e.sent;case 9:return i=r?{headers:{authorization:"Bearer ".concat(r)}}:{},e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},75295:function(e,t,n){"use strict";n.d(t,{Y:function(){return d}});var r=n(809),o=n.n(r),i=n(92447),u=n(66309);function c(){return{expiry:Number.MAX_SAFE_INTEGER,tokenPromise:null}}var a=c();function s(e,t){return u.Z.getImsServiceToken(e,t)}function l(){return!a.tokenPromise||Date.now()>a.expiry}function f(e){return Date.now()+1e3*e.expires_in/1.2}function p(){a=c()}function d(){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(o().mark((function e(){var t,n,r,i,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1?u[1]:void 0,e.prev=2,!l()){e.next=12;break}return a.expiry=Number.MAX_SAFE_INTEGER,a.tokenPromise=s(t,n),e.next=8,a.tokenPromise;case 8:r=e.sent,a.expiry=f(r),e.next=15;break;case 12:return e.next=14,a.tokenPromise;case 14:r=e.sent;case 15:i=r.access_token,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),p();case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})))).apply(this,arguments)}},66309:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(809),o=n.n(r),i=n(92447),u=n(26265),c=n(49675);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s,l=(0,n(47130).Z)(),f=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.clone().json();case 3:(n=e.sent)&&s.info({data:n,path:t.url,status:t.status}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p={request:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({agent:l,compress:!0},t);return s=null===t||void 0===t?void 0:t.logger,[e,n]},response:function(e){if(+(null===e||void 0===e?void 0:e.status)>=300)throw s&&f(e),e;return e}},d=n(41681),v=n(97803),m=n(24817),O=n(34155);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){return(0,m.Z0)(e)?O.env.IMS_CLT_APP_SECRET:O.env.IMS_CLT_SECRET}function h(e){return y(y({},(0,d.ft)(e)),{},{secret:_(e)})}function b(){return{domain:(0,d.Fy)(),clientId:v.$.UNIFIED_CHECKOUT_SERVER,secret:O.env.IMS_SVR_SECRET,authCode:O.env.IMS_SVR_AUTH_CODE}}var E=n(10975),A=n(80129);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){var e=(0,c.Z)(p),t=function(){var e=(0,i.Z)(o().mark((function e(t,r){var i,u,c,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]?a[2]:{},u=a.length>3?a[3]:void 0,(c=T({},h(r))).authCode=t,e.abrupt("return",n(c,i,u));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var t=(0,i.Z)(o().mark((function t(n){var r,i,u,c=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},i=c.length>2?c[2]:void 0,u={grant_type:"authorization_code",code:n.authCode,client_id:n.clientId,client_secret:n.secret},t.next=5,e.post("".concat(n.domain,"/ims/token/v2?").concat((0,A.stringify)(u)),{headers:T({},r),logger:i});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return T(T({},e),{},{getImsHealthCheck:function(t){var n=b();return e.get("".concat(n.domain,"/ims/healthcheck"),{headers:(0,u.Z)({},E.A.name.X_IMS_CLIENTID,n.clientId),timeout:c.L.IMS_HEALTH_CHECK_TIMEOUT,logger:t})},getImsProfileAndToken:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=h(n);return e.post("".concat(i.domain,"/ims/token/v3"),{body:(0,A.stringify)({grant_type:"aux_sid_exchange",client_id:i.clientId,client_secret:i.secret,aux_sid:t,scope:i.scopes,project_user_profile:!0}),headers:T({"Content-Type":"application/x-www-form-urlencoded"},r),timeout:c.L.SHORT_HTTP_TIMEOUT,logger:o})},getImsAccessToken:t,getImsProfileAndTokenFromImplicitJumpToken:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,u=h(r),a={client_id:u.clientId};return e.get("".concat(u.domain,"/ims/jump/implicit/").concat(t,"?").concat((0,A.stringify)(a)),{headers:T({Authorization:"Bearer ".concat(n)},o),timeout:c.L.SHORT_HTTP_TIMEOUT,logger:i},{includeHeaders:!0})},getImsServiceToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=b();return n(r,e,t)}})}()},64679:function(){},8777:function(){}}]);